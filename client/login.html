<!DOCTYPE html>
<html>
<head>
<title>Login</title>
<link rel="stylesheet" href="./css/style.css">
</head>

<body>

<h2>Expense Tracker</h2>

<div class="container">
<div class="card">

<h3>Login</h3>

<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">

<button onclick="login()">Login</button>

<p id="msg"></p>

<p>Don't have account? <a href="register.html">Register</a></p>

</div>
</div>


<script>

async function login(){

const res = await fetch("http://localhost:5000/api/auth/login",{
method:"POST",
headers:{ "Content-Type":"application/json" },
body:JSON.stringify({
email:email.value,
password:password.value
})
});

const data = await res.json();

if(data.token){
localStorage.setItem("token",data.token);
window.location="dashboard.html";
}
else{
msg.innerText=data.message || "Login failed";
}

}

</script>

</body>
</html>
